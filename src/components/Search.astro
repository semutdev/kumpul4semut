---
import { getCollection } from "astro:content";
import { filterDrafts } from "../content/config";

const allPosts = await getCollection("blog");
const posts = filterDrafts(allPosts);

const searchData = posts.map((post) => ({
  title: post.data.title,
  description: post.data.description,
  slug: post.slug,
  tags: post.data.tags || [],
}));
---

<div class="search-container">
  <button
    type="button"
    class="search-button-trigger flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"
    aria-label="Cari catatan"
  >
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
    </svg>
    <span class="hidden md:inline">Cari</span>
    <kbd
      class="hidden md:inline px-2 py-1 text-xs bg-gray-100 dark:bg-gray-800 rounded text-gray-700 dark:text-gray-300"
      >âŒ˜K</kbd
    >
  </button>
</div>
